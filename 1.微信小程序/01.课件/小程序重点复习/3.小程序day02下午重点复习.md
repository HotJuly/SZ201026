# 小程序day02下午重点复习

1. 用户首次登录授权功能+二次登陆免授权功能
   1. 用户首次登录授权功能
      1. 实现授权弹窗(没获取到用户数据)
         1. 通过button组件身上的open-type属性(属性值为getUserInfo)
      2. 绑定事件监听,用于获取用户信息
         1. 事件名称:getuserinfo
         2. 通过res.detail可以获取到用户相关信息(rawData字符串,userInfo对象)
      3. 动态渲染
         1. 将获取到的用户数据更新到data中,并在模版中使用即可
         2. 注意:小程序**可以不提前声明**data内部的属性,可以后续新增
   2. 二次登陆免授权
      1. API:wx.getUserInfo
      2. 通过该方法可以获取到用户基本信息(在配置对象中,传入success回调函数,形参中可以获取)
      3. 注意:在旧版中该API可以直接实现首次登陆授权功能(直接弹出授权弹窗),在新版中已经无法实现(根据官方文档提示,2021年4月13日之后,该API正式无法出现弹窗)
   3. 最新版API
      1. API:wx.getUserProfile
      2. 使用方法与wx.getUserInfo几乎相同,但是多了一个必传配置属性desc(当前数据获取用途说明)
      3. 注意:
         1. 该API在onLoad调用无效(原因跟wx.getUserInfo相同,为了用户体验)
         2. 使用button组件,并绑定点击事件
            1. 事件名称:tap,touchstart(没有特殊事件名)
            2. 事件回调函数内部调用该API即可
         3. 由于该API无法实现二次登陆免授权功能,所以第一次获取到用户信息之后,需要保存到本地存储Storage中
   4. 高端组件
      1. 组件名:open-data
      2. 用处:仅用于展示用户公开数据,但是开发者无法获取到该数据,仅供观看
2. 轮播图组件
   1. 组件名称:swiper和swiper-item(必须一起使用)
   2. 注意:
      1. swiper自带overflow:hidden效果
      2. swiper-item组件宽高默认100%
